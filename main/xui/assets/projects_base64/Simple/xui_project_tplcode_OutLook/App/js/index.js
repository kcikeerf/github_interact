eHVpLkNsYXNzKCdBcHAnLCAneHVpLk1vZHVsZScsewogICAgSW5zdGFuY2U6
ewogICAgICAgIGluaUNvbXBvbmVudHM6ZnVuY3Rpb24oKXsKICAgICAgICAg
ICAgLy8gW1tDb2RlIGNyZWF0ZWQgYnkgQ3Jvc3NVSSBSQUQgU3R1ZGlvCiAg
ICAgICAgICAgIHZhciBob3N0PXRoaXMsIGNoaWxkcmVuPVtdLCBhcHBlbmQ9
ZnVuY3Rpb24oY2hpbGQpe2NoaWxkcmVuLnB1c2goY2hpbGQuZ2V0KDApKTt9
OwogICAgICAgICAgICAKICAgICAgICAgICAgYXBwZW5kKAogICAgICAgICAg
ICAgICAgKG5ldyB4dWkuVUkuUG9wTWVudSgpKQogICAgICAgICAgICAgICAg
LnNldEhvc3QoaG9zdCwicG9wbWVudTUiKQogICAgICAgICAgICAgICAgLnNl
dEl0ZW1zKFt7CiAgICAgICAgICAgICAgICAgICAgImlkIiA6ICJhIiwKICAg
ICAgICAgICAgICAgICAgICAiY2FwdGlvbiIgOiAiaXRlbWEiLAogICAgICAg
ICAgICAgICAgICAgICJ0aXBzIiA6ICJpdGVtIGEiLAogICAgICAgICAgICAg
ICAgICAgICJzdWIiIDogW3sKICAgICAgICAgICAgICAgICAgICAgICAgImlk
IiA6ICJhYSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJjYXB0aW9uIiA6
ICJzdWJhIgogICAgICAgICAgICAgICAgICAgIH0sewogICAgICAgICAgICAg
ICAgICAgICAgICAiaWQiIDogImFiIiwKICAgICAgICAgICAgICAgICAgICAg
ICAgImNhcHRpb24iIDogInN1YmIiCiAgICAgICAgICAgICAgICAgICAgfV0K
ICAgICAgICAgICAgICAgIH0sewogICAgICAgICAgICAgICAgICAgICJpZCIg
OiAiYiIsCiAgICAgICAgICAgICAgICAgICAgImNhcHRpb24iIDogIml0ZW1i
IiwKICAgICAgICAgICAgICAgICAgICAidGlwcyIgOiAiaXRlbSBiIgogICAg
ICAgICAgICAgICAgfSx7CiAgICAgICAgICAgICAgICAgICAgImlkIiA6ICJj
IiwKICAgICAgICAgICAgICAgICAgICAiY2FwdGlvbiIgOiAiaXRlbWMiLAog
ICAgICAgICAgICAgICAgICAgICJ0aXBzIiA6ICJpdGVtIGMiCiAgICAgICAg
ICAgICAgICB9XSkKICAgICAgICAgICAgICAgIC5zZXRXaWR0aCg4MikKICAg
ICAgICAgICAgICAgIC5zZXRIZWlnaHQoNjQpCiAgICAgICAgICAgICk7CiAg
ICAgICAgICAgIAogICAgICAgICAgICBhcHBlbmQoCiAgICAgICAgICAgICAg
ICAobmV3IHh1aS5VSS5MYXlvdXQoKSkKICAgICAgICAgICAgICAgIC5zZXRI
b3N0KGhvc3QsImxheW91dDQiKQogICAgICAgICAgICAgICAgLnNldEl0ZW1z
KFt7CiAgICAgICAgICAgICAgICAgICAgImlkIiA6ICJiZWZvcmUiLAogICAg
ICAgICAgICAgICAgICAgICJwb3MiIDogImJlZm9yZSIsCiAgICAgICAgICAg
ICAgICAgICAgImxvY2tlZCIgOiBmYWxzZSwKICAgICAgICAgICAgICAgICAg
ICAic2l6ZSIgOiAyNjAsCiAgICAgICAgICAgICAgICAgICAgIm1pbiIgOiA1
MCwKICAgICAgICAgICAgICAgICAgICAibWF4IiA6IDIwMCwKICAgICAgICAg
ICAgICAgICAgICAiZm9sZGVkIiA6IGZhbHNlLAogICAgICAgICAgICAgICAg
ICAgICJjbWQiIDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAiaGlkZGVu
IiA6IGZhbHNlCiAgICAgICAgICAgICAgICB9LHsKICAgICAgICAgICAgICAg
ICAgICAiaWQiIDogIm1haW4iLAogICAgICAgICAgICAgICAgICAgICJtaW4i
IDogMTAKICAgICAgICAgICAgICAgIH1dKQogICAgICAgICAgICAgICAgLnNl
dFR5cGUoImhvcml6b250YWwiKQogICAgICAgICAgICApOwogICAgICAgICAg
ICAKICAgICAgICAgICAgaG9zdC5sYXlvdXQ0LmFwcGVuZCgKICAgICAgICAg
ICAgICAgIChuZXcgeHVpLlVJLlBhbmUoKSkKICAgICAgICAgICAgICAgIC5z
ZXRIb3N0KGhvc3QsInBhbmVsMTMiKQogICAgICAgICAgICAgICAgLnNldERv
Y2soInRvcCIpCiAgICAgICAgICAgICAgICAuc2V0SGVpZ2h0KDMwKQogICAg
ICAgICAgICAgICAgLCAibWFpbiIpOwogICAgICAgICAgICAKICAgICAgICAg
ICAgaG9zdC5wYW5lbDEzLmFwcGVuZCgKICAgICAgICAgICAgICAgIChuZXcg
eHVpLlVJLkJ1dHRvbigpKQogICAgICAgICAgICAgICAgLnNldEhvc3QoaG9z
dCwiYnV0dG9uMTEiKQogICAgICAgICAgICAgICAgLnNldExlZnQoNDgwKQog
ICAgICAgICAgICAgICAgLnNldFRvcCg0KQogICAgICAgICAgICAgICAgLnNl
dFdpZHRoKDUwKQogICAgICAgICAgICAgICAgLnNldENhcHRpb24oIm9wdGlv
biIpCiAgICAgICAgICAgICAgICAub25DbGljaygiX2J1dHRvbjExX29uY2xp
Y2siKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgCiAgICAgICAg
ICAgIGhvc3QucGFuZWwxMy5hcHBlbmQoCiAgICAgICAgICAgICAgICAobmV3
IHh1aS5VSS5MYWJlbCgpKQogICAgICAgICAgICAgICAgLnNldEhvc3QoaG9z
dCwibGFiZWw0IikKICAgICAgICAgICAgICAgIC5zZXRMZWZ0KDEwKQogICAg
ICAgICAgICAgICAgLnNldFRvcCg3KQogICAgICAgICAgICAgICAgLnNldENh
cHRpb24oIjxiPkxvb2sgZm9yOjwvYj4iKQogICAgICAgICAgICAgICAgKTsK
ICAgICAgICAgICAgCiAgICAgICAgICAgIGhvc3QucGFuZWwxMy5hcHBlbmQo
CiAgICAgICAgICAgICAgICAobmV3IHh1aS5VSS5JbnB1dCgpKQogICAgICAg
ICAgICAgICAgLnNldEhvc3QoaG9zdCwiaW5wdXQ2IikKICAgICAgICAgICAg
ICAgIC5zZXRMZWZ0KDM0MCkKICAgICAgICAgICAgICAgIC5zZXRUb3AoNSkK
ICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIAogICAgICAgICAgICBo
b3N0LnBhbmVsMTMuYXBwZW5kKAogICAgICAgICAgICAgICAgKG5ldyB4dWku
VUkuTGFiZWwoKSkKICAgICAgICAgICAgICAgIC5zZXRIb3N0KGhvc3QsImJ1
dHRvbjExIikKICAgICAgICAgICAgICAgIC5zZXRMZWZ0KDI2MCkKICAgICAg
ICAgICAgICAgIC5zZXRUb3AoNykKICAgICAgICAgICAgICAgIC5zZXRXaWR0
aCg3MCkKICAgICAgICAgICAgICAgIC5zZXRDYXB0aW9uKCI8Yj5TZWFyY2gg
aW46PC9iPiIpCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAKICAg
ICAgICAgICAgaG9zdC5wYW5lbDEzLmFwcGVuZCgKICAgICAgICAgICAgICAg
IChuZXcgeHVpLlVJLkNvbWJvSW5wdXQoKSkKICAgICAgICAgICAgICAgIC5z
ZXRIb3N0KGhvc3QsImNvbWJvaW5wdXQxNCIpCiAgICAgICAgICAgICAgICAu
c2V0TGVmdCgxMzApCiAgICAgICAgICAgICAgICAuc2V0VG9wKDUpCiAgICAg
ICAgICAgICAgICAuc2V0SXRlbXMoW3sKICAgICAgICAgICAgICAgICAgICAi
aWQiIDogImEiLAogICAgICAgICAgICAgICAgICAgICJjYXB0aW9uIiA6ICJp
dGVtYSIsCiAgICAgICAgICAgICAgICAgICAgInRpcHMiIDogIml0ZW0gYSIs
CiAgICAgICAgICAgICAgICAgICAgInN1YiIgOiBbewogICAgICAgICAgICAg
ICAgICAgICAgICAiaWQiIDogImFhIiwKICAgICAgICAgICAgICAgICAgICAg
ICAgImNhcHRpb24iIDogInN1YmEiCiAgICAgICAgICAgICAgICAgICAgfSx7
CiAgICAgICAgICAgICAgICAgICAgICAgICJpZCIgOiAiYWIiLAogICAgICAg
ICAgICAgICAgICAgICAgICAiY2FwdGlvbiIgOiAic3ViYiIKICAgICAgICAg
ICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgfSx7CiAgICAgICAgICAg
ICAgICAgICAgImlkIiA6ICJiIiwKICAgICAgICAgICAgICAgICAgICAiY2Fw
dGlvbiIgOiAiaXRlbWIiLAogICAgICAgICAgICAgICAgICAgICJ0aXBzIiA6
ICJpdGVtIGIiCiAgICAgICAgICAgICAgICB9LHsKICAgICAgICAgICAgICAg
ICAgICAiaWQiIDogImMiLAogICAgICAgICAgICAgICAgICAgICJjYXB0aW9u
IiA6ICJpdGVtYyIsCiAgICAgICAgICAgICAgICAgICAgInRpcHMiIDogIml0
ZW0gYyIKICAgICAgICAgICAgICAgIH1dKQogICAgICAgICAgICAgICAgKTsK
ICAgICAgICAgICAgCiAgICAgICAgICAgIGhvc3QubGF5b3V0NC5hcHBlbmQo
CiAgICAgICAgICAgICAgICAobmV3IHh1aS5VSS5QYW5lbCgpKQogICAgICAg
ICAgICAgICAgLnNldEhvc3QoaG9zdCwicG5sTm90ZSIpCiAgICAgICAgICAg
ICAgICAuc2V0Q2FwdGlvbigiTm90ZSBQYW5lIikKICAgICAgICAgICAgICAg
ICwgIm1haW4iKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGhvc3QucG5s
Tm90ZS5hcHBlbmQoCiAgICAgICAgICAgICAgICAobmV3IHh1aS5VSS5HYWxs
ZXJ5KCkpCiAgICAgICAgICAgICAgICAuc2V0SG9zdChob3N0LCJnYWxsZXJ5
NSIpCiAgICAgICAgICAgICAgICAuc2V0SXRlbXMoW3sKICAgICAgICAgICAg
ICAgICAgICAiaWQiIDogImEiLAogICAgICAgICAgICAgICAgICAgICJjYXB0
aW9uIiA6ICJNZWV0aW5nLi4iLAogICAgICAgICAgICAgICAgICAgICJ0aXBz
IiA6ICJNZWV0aW5nIHdpdGggTXIuIExpbmNvbiIsCiAgICAgICAgICAgICAg
ICAgICAgImltYWdlIiA6ICJ7L31pbWcvbm90aWNlLmdpZiIKICAgICAgICAg
ICAgICAgIH0sewogICAgICAgICAgICAgICAgICAgICJpZCIgOiAiYiIsCiAg
ICAgICAgICAgICAgICAgICAgImNhcHRpb24iIDogIjE6MSB0YWxrIiwKICAg
ICAgICAgICAgICAgICAgICAidGlwcyIgOiAiMToxIHRhbGsgd2l0aCBNci4g
VGVycnkiLAogICAgICAgICAgICAgICAgICAgICJpbWFnZSIgOiAiey99aW1n
L25vdGljZS5naWYiCiAgICAgICAgICAgICAgICB9LHsKICAgICAgICAgICAg
ICAgICAgICAiaWQiIDogImMiLAogICAgICAgICAgICAgICAgICAgICJjYXB0
aW9uIiA6ICJJbnRlcnZpZXciLAogICAgICAgICAgICAgICAgICAgICJ0aXBz
IiA6ICJJbnRlcnZpZXcgd2l0aCBCQ0MiLAogICAgICAgICAgICAgICAgICAg
ICJpbWFnZSIgOiAiey99aW1nL25vdGljZS5naWYiCiAgICAgICAgICAgICAg
ICB9XSkKICAgICAgICAgICAgICAgIC5zZXREb2NrKCJmaWxsIikKICAgICAg
ICAgICAgICAgIC5zZXRJdGVtUGFkZGluZygiNCIpCiAgICAgICAgICAgICAg
ICAuc2V0SXRlbVdpZHRoKCI2NCIpCiAgICAgICAgICAgICAgICAuc2V0SXRl
bUhlaWdodCgiNjQiKQogICAgICAgICAgICAgICAgLnNldEltZ1dpZHRoKCI0
OCIpCiAgICAgICAgICAgICAgICAuc2V0SW1nSGVpZ2h0KCI0OCIpCiAgICAg
ICAgICAgICAgICApOwogICAgICAgICAgICAKICAgICAgICAgICAgaG9zdC5s
YXlvdXQ0LmFwcGVuZCgKICAgICAgICAgICAgICAgIChuZXcgeHVpLlVJLlBh
bmVsKCkpCiAgICAgICAgICAgICAgICAuc2V0SG9zdChob3N0LCJwbmxFbWFp
bCIpCiAgICAgICAgICAgICAgICAuc2V0Q2FwdGlvbigiRW1haWxzIikKICAg
ICAgICAgICAgICAgICwgIm1haW4iKTsKICAgICAgICAgICAgCiAgICAgICAg
ICAgIGhvc3QucG5sRW1haWwuYXBwZW5kKAogICAgICAgICAgICAgICAgKG5l
dyB4dWkuVUkuTGF5b3V0KCkpCiAgICAgICAgICAgICAgICAuc2V0SG9zdCho
b3N0LCJsYXlvdXQ1IikKICAgICAgICAgICAgICAgIC5zZXRJdGVtcyhbewog
ICAgICAgICAgICAgICAgICAgICJpZCIgOiAiYmVmb3JlIiwKICAgICAgICAg
ICAgICAgICAgICAicG9zIiA6ICJiZWZvcmUiLAogICAgICAgICAgICAgICAg
ICAgICJsb2NrZWQiIDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgInNp
emUiIDogMjAwLAogICAgICAgICAgICAgICAgICAgICJtaW4iIDogNTAsCiAg
ICAgICAgICAgICAgICAgICAgIm1heCIgOiAyMDAsCiAgICAgICAgICAgICAg
ICAgICAgImZvbGRlZCIgOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAi
Y21kIiA6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgImhpZGRlbiIgOiBm
YWxzZQogICAgICAgICAgICAgICAgfSx7CiAgICAgICAgICAgICAgICAgICAg
ImlkIiA6ICJtYWluIiwKICAgICAgICAgICAgICAgICAgICAibWluIiA6IDEw
CiAgICAgICAgICAgICAgICB9XSkKICAgICAgICAgICAgICAgICk7CiAgICAg
ICAgICAgIAogICAgICAgICAgICBob3N0LmxheW91dDUuYXBwZW5kKAogICAg
ICAgICAgICAgICAgKG5ldyB4dWkuVUkuVHJlZUdyaWQoKSkKICAgICAgICAg
ICAgICAgIC5zZXRIb3N0KGhvc3QsInRyZWVncmlkMiIpCiAgICAgICAgICAg
ICAgICAuc2V0Um93TnVtYmVyZWQodHJ1ZSkKICAgICAgICAgICAgICAgIC5z
ZXRIZWFkZXIoW3sKICAgICAgICAgICAgICAgICAgICAiaWQiIDogImNvbDEi
LAogICAgICAgICAgICAgICAgICAgICJjYXB0aW9uIiA6ICJGcm9tIiwKICAg
ICAgICAgICAgICAgICAgICAidHlwZSIgOiAiaW5wdXQiLAogICAgICAgICAg
ICAgICAgICAgICJ3aWR0aCIgOiA4MAogICAgICAgICAgICAgICAgfSx7CiAg
ICAgICAgICAgICAgICAgICAgImlkIiA6ICJjb2wyIiwKICAgICAgICAgICAg
ICAgICAgICAiY2FwdGlvbiIgOiAiU3ViamVjdCIsCiAgICAgICAgICAgICAg
ICAgICAgInR5cGUiIDogImlucHV0IiwKICAgICAgICAgICAgICAgICAgICAi
d2lkdGgiIDogMzQwCiAgICAgICAgICAgICAgICB9LHsKICAgICAgICAgICAg
ICAgICAgICAiaWQiIDogImNvbDMiLAogICAgICAgICAgICAgICAgICAgICJj
YXB0aW9uIiA6ICJSZWNlaXZlZCIsCiAgICAgICAgICAgICAgICAgICAgInR5
cGUiIDogImlucHV0IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiIDog
ODAKICAgICAgICAgICAgICAgIH0sewogICAgICAgICAgICAgICAgICAgICJp
ZCIgOiAiY29sNCIsCiAgICAgICAgICAgICAgICAgICAgImNhcHRpb24iIDog
InNpemUiLAogICAgICAgICAgICAgICAgICAgICJ0eXBlIiA6ICJpbnB1dCIs
CiAgICAgICAgICAgICAgICAgICAgIndpZHRoIiA6IDgwCiAgICAgICAgICAg
ICAgICB9XSkKICAgICAgICAgICAgICAgIC5hZnRlclJvd0FjdGl2ZSgiX3Ry
ZWVncmlkMl9hZnRlcnJvd2FjdGl2ZSIpCiAgICAgICAgICAgICAgICAsICJi
ZWZvcmUiKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGhvc3QubGF5b3V0
NS5hcHBlbmQoCiAgICAgICAgICAgICAgICAobmV3IHh1aS5VSS5CbG9jaygp
KQogICAgICAgICAgICAgICAgLnNldEhvc3QoaG9zdCwiYmxvY2syIikKICAg
ICAgICAgICAgICAgIC5zZXREb2NrKCJmaWxsIikKICAgICAgICAgICAgICAg
IC5zZXRCb3JkZXJUeXBlKCJpbnNldCIpCiAgICAgICAgICAgICAgICAsICJt
YWluIik7CiAgICAgICAgICAgIAogICAgICAgICAgICBob3N0LmxheW91dDQu
YXBwZW5kKAogICAgICAgICAgICAgICAgKG5ldyB4dWkuVUkuUGFuZWwoKSkK
ICAgICAgICAgICAgICAgIC5zZXRIb3N0KGhvc3QsInBubENvbnRhY3QiKQog
ICAgICAgICAgICAgICAgLnNldENhcHRpb24oIkJ1c3NpbmVzcyAmIENvbnRh
Y3QgIikKICAgICAgICAgICAgICAgICwgIm1haW4iKTsKICAgICAgICAgICAg
CiAgICAgICAgICAgIGhvc3QucG5sQ29udGFjdC5hcHBlbmQoCiAgICAgICAg
ICAgICAgICAobmV3IHh1aS5VSS5Hcm91cCgpKQogICAgICAgICAgICAgICAg
LnNldEhvc3QoaG9zdCwiZ3JvdXAzIikKICAgICAgICAgICAgICAgIC5zZXRM
ZWZ0KDIwKQogICAgICAgICAgICAgICAgLnNldFRvcCgzMCkKICAgICAgICAg
ICAgICAgIC5zZXRXaWR0aCg1NjApCiAgICAgICAgICAgICAgICAuc2V0SGVp
Z2h0KDE1MCkKICAgICAgICAgICAgICAgIC5zZXRDYXB0aW9uKCJBbGwgQ29u
dGFjdCIpCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAKICAgICAg
ICAgICAgaG9zdC5ncm91cDMuYXBwZW5kKAogICAgICAgICAgICAgICAgKG5l
dyB4dWkuVUkuUGFuZWwoKSkKICAgICAgICAgICAgICAgIC5zZXRIb3N0KGhv
c3QsInBhbmVsYmFyMTYiKQogICAgICAgICAgICAgICAgLnNldERvY2soIm5v
bmUiKQogICAgICAgICAgICAgICAgLnNldExlZnQoMjApCiAgICAgICAgICAg
ICAgICAuc2V0VG9wKDEwKQogICAgICAgICAgICAgICAgLnNldFdpZHRoKDE2
MCkKICAgICAgICAgICAgICAgIC5zZXRIZWlnaHQoOTApCiAgICAgICAgICAg
ICAgICAuc2V0WkluZGV4KDEpCiAgICAgICAgICAgICAgICAuc2V0SHRtbCgi
PGI+QmFsYXJhPC9iPjxicj4wMS00NTY3LTg5MDxicj54dWlAY3Jvc3N1aS5j
b20iKQogICAgICAgICAgICAgICAgLnNldENhcHRpb24oIkJhbGFyYSwgS2Vu
bnkiKQogICAgICAgICAgICAgICAgLnNldERyYWdLZXkoImNvbnRhY3RrZXki
KQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgCiAgICAgICAgICAg
IGhvc3QuZ3JvdXAzLmFwcGVuZCgKICAgICAgICAgICAgICAgIChuZXcgeHVp
LlVJLlBhbmVsKCkpCiAgICAgICAgICAgICAgICAuc2V0SG9zdChob3N0LCJw
YW5lbGJhcjE3IikKICAgICAgICAgICAgICAgIC5zZXREb2NrKCJub25lIikK
ICAgICAgICAgICAgICAgIC5zZXRMZWZ0KDE5MCkKICAgICAgICAgICAgICAg
IC5zZXRUb3AoMTApCiAgICAgICAgICAgICAgICAuc2V0V2lkdGgoMTYwKQog
ICAgICAgICAgICAgICAgLnNldEhlaWdodCg5MCkKICAgICAgICAgICAgICAg
IC5zZXRaSW5kZXgoMSkKICAgICAgICAgICAgICAgIC5zZXRIdG1sKCI8Yj5M
aW5kYTwvYj48YnI+MDEtMzIzOC03Mjc8YnI+bGluZGFAYWJjLmNvbSIpCiAg
ICAgICAgICAgICAgICAuc2V0Q2FwdGlvbigiTGluZGEsIFdlbiIpCiAgICAg
ICAgICAgICAgICAuc2V0RHJhZ0tleSgiY29udGFjdGtleSIpCiAgICAgICAg
ICAgICAgICApOwogICAgICAgICAgICAKICAgICAgICAgICAgaG9zdC5ncm91
cDMuYXBwZW5kKAogICAgICAgICAgICAgICAgKG5ldyB4dWkuVUkuUGFuZWwo
KSkKICAgICAgICAgICAgICAgIC5zZXRIb3N0KGhvc3QsInBhbmVsYmFyMTgi
KQogICAgICAgICAgICAgICAgLnNldERvY2soIm5vbmUiKQogICAgICAgICAg
ICAgICAgLnNldExlZnQoMzYwKQogICAgICAgICAgICAgICAgLnNldFRvcCgx
MCkKICAgICAgICAgICAgICAgIC5zZXRXaWR0aCgxNjApCiAgICAgICAgICAg
ICAgICAuc2V0SGVpZ2h0KDkwKQogICAgICAgICAgICAgICAgLnNldFpJbmRl
eCgxKQogICAgICAgICAgICAgICAgLnNldEh0bWwoIjxiPkppbTwvYj48YnI+
MDEtNjU0My0zMjE8YnI+SmltQGJsYWJsYS5jb20iKQogICAgICAgICAgICAg
ICAgLnNldENhcHRpb24oIkppbSwgU3RlcGhlbiIpCiAgICAgICAgICAgICAg
ICAuc2V0RHJhZ0tleSgiY29udGFjdGtleSIpCiAgICAgICAgICAgICAgICAp
OwogICAgICAgICAgICAKICAgICAgICAgICAgaG9zdC5wbmxDb250YWN0LmFw
cGVuZCgKICAgICAgICAgICAgICAgIChuZXcgeHVpLlVJLkdyb3VwKCkpCiAg
ICAgICAgICAgICAgICAuc2V0SG9zdChob3N0LCJncm91cDQiKQogICAgICAg
ICAgICAgICAgLnNldExlZnQoMjApCiAgICAgICAgICAgICAgICAuc2V0VG9w
KDIwMCkKICAgICAgICAgICAgICAgIC5zZXRXaWR0aCg1NjApCiAgICAgICAg
ICAgICAgICAuc2V0SGVpZ2h0KDEzMCkKICAgICAgICAgICAgICAgIC5zZXRD
YXB0aW9uKCJEcmFnIGN1c3RvbWVycyB0byB0aGlzIGJveCIpCiAgICAgICAg
ICAgICAgICApOwogICAgICAgICAgICAKICAgICAgICAgICAgaG9zdC5ncm91
cDQuYXBwZW5kKAogICAgICAgICAgICAgICAgKG5ldyB4dWkuVUkuUGFuZSgp
KQogICAgICAgICAgICAgICAgLnNldEhvc3QoaG9zdCwicGFuZWwxNiIpCiAg
ICAgICAgICAgICAgICAuc2V0TGVmdCgyMCkKICAgICAgICAgICAgICAgIC5z
ZXRUb3AoMTApCiAgICAgICAgICAgICAgICAuc2V0V2lkdGgoMTUwKQogICAg
ICAgICAgICAgICAgLnNldEhlaWdodCg4MCkKICAgICAgICAgICAgICAgIC5z
ZXRIdG1sKCJEcmFnIGJ1c3NpbmVzcyBjYXJkIG92ZXIgbWUiKQogICAgICAg
ICAgICAgICAgLnNldERyb3BLZXlzKCJjb250YWN0a2V5IikKICAgICAgICAg
ICAgICAgIC5vbkRyb3AoIl9wYW5lbDE2X29uZHJvcCIpCiAgICAgICAgICAg
ICAgICApOwogICAgICAgICAgICAKICAgICAgICAgICAgaG9zdC5ncm91cDQu
YXBwZW5kKAogICAgICAgICAgICAgICAgKG5ldyB4dWkuVUkuUGFuZSgpKQog
ICAgICAgICAgICAgICAgLnNldEhvc3QoaG9zdCwicGFuZWwxNyIpCiAgICAg
ICAgICAgICAgICAuc2V0TGVmdCgxOTApCiAgICAgICAgICAgICAgICAuc2V0
VG9wKDEwKQogICAgICAgICAgICAgICAgLnNldFdpZHRoKDE1MCkKICAgICAg
ICAgICAgICAgIC5zZXRIZWlnaHQoODApCiAgICAgICAgICAgICAgICAuc2V0
SHRtbCgiRHJhZyBidXNzaW5lc3MgY2FyZCBvdmVyIG1lIikKICAgICAgICAg
ICAgICAgIC5zZXREcm9wS2V5cygiY29udGFjdGtleSIpCiAgICAgICAgICAg
ICAgICAub25Ecm9wKCJfcGFuZWwxNl9vbmRyb3AiKQogICAgICAgICAgICAg
ICAgKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGhvc3QucG5sQ29udGFj
dC5hcHBlbmQoCiAgICAgICAgICAgICAgICAobmV3IHh1aS5VSS5Hcm91cCgp
KQogICAgICAgICAgICAgICAgLnNldEhvc3QoaG9zdCwiZ3JvdXA1IikKICAg
ICAgICAgICAgICAgIC5zZXRMZWZ0KDIwKQogICAgICAgICAgICAgICAgLnNl
dFRvcCgzNjApCiAgICAgICAgICAgICAgICAuc2V0V2lkdGgoNTYwKQogICAg
ICAgICAgICAgICAgLnNldEhlaWdodCgxMzApCiAgICAgICAgICAgICAgICAu
c2V0Q2FwdGlvbigiRHJhZyB2ZW5kZXJzIGhlcmUiKQogICAgICAgICAgICAg
ICAgKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGhvc3QuZ3JvdXA1LmFw
cGVuZCgKICAgICAgICAgICAgICAgIChuZXcgeHVpLlVJLlBhbmUoKSkKICAg
ICAgICAgICAgICAgIC5zZXRIb3N0KGhvc3QsInBhbmVsMTgiKQogICAgICAg
ICAgICAgICAgLnNldExlZnQoMjApCiAgICAgICAgICAgICAgICAuc2V0VG9w
KDEwKQogICAgICAgICAgICAgICAgLnNldFdpZHRoKDE1MCkKICAgICAgICAg
ICAgICAgIC5zZXRIZWlnaHQoODApCiAgICAgICAgICAgICAgICAuc2V0SHRt
bCgiRHJhZyBidXNzaW5lc3MgY2FyZCBvdmVyIG1lIikKICAgICAgICAgICAg
ICAgIC5zZXREcm9wS2V5cygiY29udGFjdGtleSIpCiAgICAgICAgICAgICAg
ICAub25Ecm9wKCJfcGFuZWwxNl9vbmRyb3AiKQogICAgICAgICAgICAgICAg
KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGhvc3QuZ3JvdXA1LmFwcGVu
ZCgKICAgICAgICAgICAgICAgIChuZXcgeHVpLlVJLlBhbmUoKSkKICAgICAg
ICAgICAgICAgIC5zZXRIb3N0KGhvc3QsInBhbmVsMTkiKQogICAgICAgICAg
ICAgICAgLnNldExlZnQoMjAwKQogICAgICAgICAgICAgICAgLnNldFRvcCgx
MCkKICAgICAgICAgICAgICAgIC5zZXRXaWR0aCgxNTApCiAgICAgICAgICAg
ICAgICAuc2V0SGVpZ2h0KDgwKQogICAgICAgICAgICAgICAgLnNldEh0bWwo
IkRyYWcgYnVzc2luZXNzIGNhcmQgb3ZlciBtZSIpCiAgICAgICAgICAgICAg
ICAuc2V0RHJvcEtleXMoImNvbnRhY3RrZXkiKQogICAgICAgICAgICAgICAg
Lm9uRHJvcCgiX3BhbmVsMTZfb25kcm9wIikKICAgICAgICAgICAgICAgICk7
CiAgICAgICAgICAgIAogICAgICAgICAgICBob3N0LmxheW91dDQuYXBwZW5k
KAogICAgICAgICAgICAgICAgKG5ldyB4dWkuVUkuQnV0dG9uVmlld3MoKSkK
ICAgICAgICAgICAgICAgIC5zZXRIb3N0KGhvc3QsImJ1dHRvbnZpZXdzNCIp
CiAgICAgICAgICAgICAgICAuc2V0SXRlbXMoW3sKICAgICAgICAgICAgICAg
ICAgICAiaWQiIDogImVtYWlsIiwKICAgICAgICAgICAgICAgICAgICAiaW1h
Z2UiIDogInsvfWltZy9hbGxpbm9uZS5naWYiLAogICAgICAgICAgICAgICAg
ICAgICJpbWFnZVBvcyIgOiAiLTgwcHggdG9wIiwKICAgICAgICAgICAgICAg
ICAgICAidGlwcyIgOiAiRW1haWwiLAogICAgICAgICAgICAgICAgICAgICJj
YXB0aW9uIiA6ICJlbWFpbCIKICAgICAgICAgICAgICAgIH0sewogICAgICAg
ICAgICAgICAgICAgICJpZCIgOiAibm90ZSIsCiAgICAgICAgICAgICAgICAg
ICAgImltYWdlIiA6ICJ7L31pbWcvYWxsaW5vbmUuZ2lmIiwKICAgICAgICAg
ICAgICAgICAgICAiaW1hZ2VQb3MiIDogIi05NnB4IHRvcCIsCiAgICAgICAg
ICAgICAgICAgICAgInRpcHMiIDogIk5vdGUiLAogICAgICAgICAgICAgICAg
ICAgICJjYXB0aW9uIiA6ICJub3RlIgogICAgICAgICAgICAgICAgfSx7CiAg
ICAgICAgICAgICAgICAgICAgImlkIiA6ICJjb250YWN0IiwKICAgICAgICAg
ICAgICAgICAgICAiaW1hZ2UiIDogInsvfWltZy9hbGxpbm9uZS5naWYiLAog
ICAgICAgICAgICAgICAgICAgICJpbWFnZVBvcyIgOiAiLTQ4cHggdG9wIiwK
ICAgICAgICAgICAgICAgICAgICAidGlwcyIgOiAiQ29udGFjdCIsCiAgICAg
ICAgICAgICAgICAgICAgImNhcHRpb24iIDogImNvbnRhY3QiCiAgICAgICAg
ICAgICAgICB9XSkKICAgICAgICAgICAgICAgIC5zZXRCYXJMb2NhdGlvbigi
Ym90dG9tIikKICAgICAgICAgICAgICAgIC5zZXRCYXJIQWxpZ24oImNlbnRl
ciIpCiAgICAgICAgICAgICAgICAuc2V0QmFyU2l6ZSgiMjgiKQogICAgICAg
ICAgICAgICAgLm9uSXRlbVNlbGVjdGVkKCJfYnV0dG9udmlld3M0X29uaXRl
bXNlbGVjdGVkIikKICAgICAgICAgICAgICAgICwgImJlZm9yZSIpOwogICAg
ICAgICAgICAKICAgICAgICAgICAgaG9zdC5idXR0b252aWV3czQuYXBwZW5k
KAogICAgICAgICAgICAgICAgKG5ldyB4dWkuVUkuUGFuZWwoKSkKICAgICAg
ICAgICAgICAgIC5zZXRIb3N0KGhvc3QsInBhbmVsYmFyNCIpCiAgICAgICAg
ICAgICAgICAuc2V0WkluZGV4KDEpCiAgICAgICAgICAgICAgICAuc2V0Q2Fw
dGlvbigiRW1haWwiKQogICAgICAgICAgICAgICAgLCAiZW1haWwiKTsKICAg
ICAgICAgICAgCiAgICAgICAgICAgIGhvc3QucGFuZWxiYXI0LmFwcGVuZCgK
ICAgICAgICAgICAgICAgIChuZXcgeHVpLlVJLlRyZWVCYXIoKSkKICAgICAg
ICAgICAgICAgIC5zZXRIb3N0KGhvc3QsInRyZWViYXI1IikKICAgICAgICAg
ICAgICAgIC5zZXRJdGVtcyhbewogICAgICAgICAgICAgICAgICAgICJpZCIg
OiAiYSIsCiAgICAgICAgICAgICAgICAgICAgImNhcHRpb24iIDogIlBlcnNv
bmFsIEZvbGRlciIsCiAgICAgICAgICAgICAgICAgICAgImltYWdlIiA6ICJ7
L31pbWcvYWxsaW5vbmUuZ2lmIiwKICAgICAgICAgICAgICAgICAgICAiaW1h
Z2VQb3MiIDogIi0xMjhweCB0b3AiLAogICAgICAgICAgICAgICAgICAgICJ0
aXBzIiA6ICJQZXJzb25hbCBPbmx5IiwKICAgICAgICAgICAgICAgICAgICAi
c3ViIiA6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICJpZCIgOiAiYWEi
LAogICAgICAgICAgICAgICAgICAgICAgICAiY2FwdGlvbiIgOiAiSW5ib3gi
LAogICAgICAgICAgICAgICAgICAgICAgICAiaW1hZ2UiIDogInsvfWltZy9h
bGxpbm9uZS5naWYiLAogICAgICAgICAgICAgICAgICAgICAgICAiaW1hZ2VQ
b3MiIDogIi0xNnB4IHRvcCIKICAgICAgICAgICAgICAgICAgICB9LHsKICAg
ICAgICAgICAgICAgICAgICAgICAgImlkIiA6ICJhYiIsCiAgICAgICAgICAg
ICAgICAgICAgICAgICJjYXB0aW9uIiA6ICJTZW50IEl0ZW1zIiwKICAgICAg
ICAgICAgICAgICAgICAgICAgImltYWdlIiA6ICJ7L31pbWcvYWxsaW5vbmUu
Z2lmIiwKICAgICAgICAgICAgICAgICAgICAgICAgImltYWdlUG9zIiA6ICIt
MjA4cHggdG9wIgogICAgICAgICAgICAgICAgICAgIH0sewogICAgICAgICAg
ICAgICAgICAgICAgICAiaWQiIDogImFjIiwKICAgICAgICAgICAgICAgICAg
ICAgICAgImNhcHRpb24iIDogIkRlbGV0ZWQgSXRlbXMiLAogICAgICAgICAg
ICAgICAgICAgICAgICAiaW1hZ2UiIDogInsvfWltZy9hbGxpbm9uZS5naWYi
LAogICAgICAgICAgICAgICAgICAgICAgICAiaW1hZ2VQb3MiIDogIi0yNDBw
eCB0b3AiCiAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAg
IH0sewogICAgICAgICAgICAgICAgICAgICJpZCIgOiAiYiIsCiAgICAgICAg
ICAgICAgICAgICAgImNhcHRpb24iIDogIjxmb250IGNvbG9yPXJlZD48Yj5J
bmJveCg2KTwvYj48L2ZvbnQ+IiwKICAgICAgICAgICAgICAgICAgICAidGlw
cyIgOiAiaW5jb21pbmcgbWVzc2FnZXMgZ28gaGVyZSIsCiAgICAgICAgICAg
ICAgICAgICAgImltYWdlIiA6ICJ7L31pbWcvYWxsaW5vbmUuZ2lmIiwKICAg
ICAgICAgICAgICAgICAgICAiaW1hZ2VQb3MiIDogIi0xNnB4IHRvcCIKICAg
ICAgICAgICAgICAgIH0sewogICAgICAgICAgICAgICAgICAgICJpZCIgOiAi
YyIsCiAgICAgICAgICAgICAgICAgICAgImNhcHRpb24iIDogIk91dGJveCIs
CiAgICAgICAgICAgICAgICAgICAgInRpcHMiIDogIlNlbnQgaXRlbXMgZ28g
aGVyZSIsCiAgICAgICAgICAgICAgICAgICAgImltYWdlIiA6ICJ7L31pbWcv
YWxsaW5vbmUuZ2lmIiwKICAgICAgICAgICAgICAgICAgICAiaW1hZ2VQb3Mi
IDogIi0xMTJweCB0b3AiCiAgICAgICAgICAgICAgICB9XSkKICAgICAgICAg
ICAgICAgIC5zZXRWYWx1ZSgiIikKICAgICAgICAgICAgICAgIC5vbkl0ZW1T
ZWxlY3RlZCgiX3RyZWViYXI1X29uaXRlbXNlbGVjdGVkIikKICAgICAgICAg
ICAgICAgICk7CiAgICAgICAgICAgIAogICAgICAgICAgICBob3N0LmJ1dHRv
bnZpZXdzNC5hcHBlbmQoCiAgICAgICAgICAgICAgICAobmV3IHh1aS5VSS5Q
YW5lbCgpKQogICAgICAgICAgICAgICAgLnNldEhvc3QoaG9zdCwicGFuZWxi
YXIxMiIpCiAgICAgICAgICAgICAgICAuc2V0WkluZGV4KDEpCiAgICAgICAg
ICAgICAgICAuc2V0Q2FwdGlvbigiTm90ZSIpCiAgICAgICAgICAgICAgICAs
ICJub3RlIik7CiAgICAgICAgICAgIAogICAgICAgICAgICBob3N0LnBhbmVs
YmFyMTIuYXBwZW5kKAogICAgICAgICAgICAgICAgKG5ldyB4dWkuVUkuR3Jv
dXAoKSkKICAgICAgICAgICAgICAgIC5zZXRIb3N0KGhvc3QsImdyb3VwMSIp
CiAgICAgICAgICAgICAgICAuc2V0RG9jaygidG9wIikKICAgICAgICAgICAg
ICAgIC5zZXRIZWlnaHQoMTcwKQogICAgICAgICAgICAgICAgLnNldENhcHRp
b24oIkN1cnJlbnQgVmlldyIpCiAgICAgICAgICAgICAgICApOwogICAgICAg
ICAgICAKICAgICAgICAgICAgaG9zdC5ncm91cDEuYXBwZW5kKAogICAgICAg
ICAgICAgICAgKG5ldyB4dWkuVUkuUmFkaW9Cb3goKSkKICAgICAgICAgICAg
ICAgIC5zZXRIb3N0KGhvc3QsInJhZGlvYm94MiIpCiAgICAgICAgICAgICAg
ICAuc2V0SXRlbXMoW3sKICAgICAgICAgICAgICAgICAgICAiaWQiIDogImEi
LAogICAgICAgICAgICAgICAgICAgICJjYXB0aW9uIiA6ICJTaG93IG5vdGUg
aW1hZ2VzIiwKICAgICAgICAgICAgICAgICAgICAidGlwcyIgOiAiU2hvdyBu
b3RlIGltYWdlcyIKICAgICAgICAgICAgICAgIH0sewogICAgICAgICAgICAg
ICAgICAgICJpZCIgOiAiYiIsCiAgICAgICAgICAgICAgICAgICAgImNhcHRp
b24iIDogIk5vdGVzIExpc3QiLAogICAgICAgICAgICAgICAgICAgICJ0aXBz
IiA6ICJTaG93IG5vdGVzIHdpdGhpbiBhIGxpc3QiCiAgICAgICAgICAgICAg
ICB9LHsKICAgICAgICAgICAgICAgICAgICAiaWQiIDogImMiLAogICAgICAg
ICAgICAgICAgICAgICJjYXB0aW9uIiA6ICJPdGhlciIsCiAgICAgICAgICAg
ICAgICAgICAgInRpcHMiIDogIk90aGVyIgogICAgICAgICAgICAgICAgfV0p
CiAgICAgICAgICAgICAgICAuc2V0RG9jaygiZmlsbCIpCiAgICAgICAgICAg
ICAgICApOwogICAgICAgICAgICAKICAgICAgICAgICAgYXBwZW5kKAogICAg
ICAgICAgICAgICAgKG5ldyB4dWkuVUkuVG9vbEJhcigpKQogICAgICAgICAg
ICAgICAgLnNldEhvc3QoaG9zdCwidG9vbGJhcjciKQogICAgICAgICAgICAg
ICAgLnNldEl0ZW1zKFt7CiAgICAgICAgICAgICAgICAgICAgImlkIiA6ICJ0
b29sU2VjdGlvbjEiLAogICAgICAgICAgICAgICAgICAgICJzdWIiIDogW3sK
ICAgICAgICAgICAgICAgICAgICAgICAgImlkIiA6ICJ0b29sTmV3TWFpbCIs
CiAgICAgICAgICAgICAgICAgICAgICAgICJjYXB0aW9uIiA6ICJOZXcgTWFp
bCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ0aXBzIiA6ICJOZXcgTWFp
bCBNZXNzYWdlIiwKICAgICAgICAgICAgICAgICAgICAgICAgImltYWdlIiA6
ICJ7L31pbWcvYWxsaW5vbmUuZ2lmIiwKICAgICAgICAgICAgICAgICAgICAg
ICAgImltYWdlUG9zIiA6ICItODBweCB0b3AiCiAgICAgICAgICAgICAgICAg
ICAgfV0sCiAgICAgICAgICAgICAgICAgICAgImNhcHRpb24iIDogInRvb2xT
ZWN0aW9uMSIKICAgICAgICAgICAgICAgIH0sewogICAgICAgICAgICAgICAg
ICAgICJpZCIgOiAidG9vbFNlY3Rpb24yIiwKICAgICAgICAgICAgICAgICAg
ICAic3ViIiA6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICJpZCIgOiAi
dG9vbFByaW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgInRpcHMiIDog
InByaW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImltYWdlIiA6ICJ7
L31pbWcvYWxsaW5vbmUuZ2lmIiwKICAgICAgICAgICAgICAgICAgICAgICAg
ImltYWdlUG9zIiA6ICJ0b3AgbGVmdCIsCiAgICAgICAgICAgICAgICAgICAg
ICAgICJjYXB0aW9uIiA6ICIiCiAgICAgICAgICAgICAgICAgICAgfSx7CiAg
ICAgICAgICAgICAgICAgICAgICAgICJpZCIgOiAidG9vbE1vdmUiLAogICAg
ICAgICAgICAgICAgICAgICAgICAidGlwcyIgOiAiTW92ZSB0byBmb2xkZXIi
LAogICAgICAgICAgICAgICAgICAgICAgICAiaW1hZ2UiIDogInsvfWltZy9h
bGxpbm9uZS5naWYiLAogICAgICAgICAgICAgICAgICAgICAgICAiaW1hZ2VQ
b3MiIDogIi02NHB4IHRvcCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJj
YXB0aW9uIiA6ICIiCiAgICAgICAgICAgICAgICAgICAgfSx7CiAgICAgICAg
ICAgICAgICAgICAgICAgICJpZCIgOiAidG9vbERlbGV0ZSIsCiAgICAgICAg
ICAgICAgICAgICAgICAgICJ0aXBzIiA6ICJEZWxldGUiLAogICAgICAgICAg
ICAgICAgICAgICAgICAiaW1hZ2UiIDogInsvfWltZy9hbGxpbm9uZS5naWYi
LAogICAgICAgICAgICAgICAgICAgICAgICAiaW1hZ2VQb3MiIDogIi0yMjRw
eCB0b3AiLAogICAgICAgICAgICAgICAgICAgICAgICAiY2FwdGlvbiIgOiAi
IgogICAgICAgICAgICAgICAgICAgIH1dLAogICAgICAgICAgICAgICAgICAg
ICJjYXB0aW9uIiA6ICJ0b29sU2VjdGlvbjIiCiAgICAgICAgICAgICAgICB9
LHsKICAgICAgICAgICAgICAgICAgICAiaWQiIDogInRvb2xTZWN0aW9uMyIs
CiAgICAgICAgICAgICAgICAgICAgInN1YiIgOiBbewogICAgICAgICAgICAg
ICAgICAgICAgICAiaWQiIDogInRvb2xSZXBseSIsCiAgICAgICAgICAgICAg
ICAgICAgICAgICJ0aXBzIiA6ICJyZXBseSIsCiAgICAgICAgICAgICAgICAg
ICAgICAgICJjYXB0aW9uIiA6ICJSZXBseSIsCiAgICAgICAgICAgICAgICAg
ICAgICAgICJpbWFnZSIgOiAiey99aW1nL2FsbGlub25lLmdpZiIsCiAgICAg
ICAgICAgICAgICAgICAgICAgICJpbWFnZVBvcyIgOiAiLTE2MHB4IHRvcCIK
ICAgICAgICAgICAgICAgICAgICB9LHsKICAgICAgICAgICAgICAgICAgICAg
ICAgImlkIiA6ICJ0b29sUmVwbHlBbGwiLAogICAgICAgICAgICAgICAgICAg
ICAgICAidGlwcyIgOiAiUmVwbHkgdG8gYWxsIiwKICAgICAgICAgICAgICAg
ICAgICAgICAgImNhcHRpb24iIDogIlJlcGx5IHRvIEFsbCIsCiAgICAgICAg
ICAgICAgICAgICAgICAgICJpbWFnZSIgOiAiey99aW1nL2FsbGlub25lLmdp
ZiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJpbWFnZVBvcyIgOiAiLTE3
NnB4IHRvcCIKICAgICAgICAgICAgICAgICAgICB9LHsKICAgICAgICAgICAg
ICAgICAgICAgICAgImlkIiA6ICJ0b29sRm9yd2FyZCIsCiAgICAgICAgICAg
ICAgICAgICAgICAgICJ0aXBzIiA6ICJGb3J3YXJkIiwKICAgICAgICAgICAg
ICAgICAgICAgICAgImNhcHRpb24iIDogIkZvcndhcmQiLAogICAgICAgICAg
ICAgICAgICAgICAgICAiaW1hZ2UiIDogInsvfWltZy9hbGxpbm9uZS5naWYi
LAogICAgICAgICAgICAgICAgICAgICAgICAiaW1hZ2VQb3MiIDogIi0xMTJw
eCB0b3AiCiAgICAgICAgICAgICAgICAgICAgfSx7CiAgICAgICAgICAgICAg
ICAgICAgICAgICJpZCIgOiAidG9vbFJlbmRSZWNlaXZlIiwKICAgICAgICAg
ICAgICAgICAgICAgICAgInRpcHMiIDogIlJlbmQgLyBSZWNlaXZlIiwKICAg
ICAgICAgICAgICAgICAgICAgICAgImNhcHRpb24iIDogIlJlbmQvUmVjZWl2
ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJpbWFnZSIgOiAiey99aW1n
L2FsbGlub25lLmdpZiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJpbWFn
ZVBvcyIgOiAiLTE5MnB4IHRvcCIKICAgICAgICAgICAgICAgICAgICB9XSwK
ICAgICAgICAgICAgICAgICAgICAiY2FwdGlvbiIgOiAidG9vbFNlY3Rpb24z
IgogICAgICAgICAgICAgICAgfV0pCiAgICAgICAgICAgICAgICAuc2V0RG9j
a09yZGVyKCIzIikKICAgICAgICAgICAgICAgIC5vbkNsaWNrKCJfdG9vbGJh
cjdfb25jbGljayIpCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIAogICAg
ICAgICAgICBhcHBlbmQoCiAgICAgICAgICAgICAgICAobmV3IHh1aS5VSS5N
ZW51QmFyKCkpCiAgICAgICAgICAgICAgICAuc2V0SG9zdChob3N0LCJtZW51
YmFyMiIpCiAgICAgICAgICAgICAgICAuc2V0SXRlbXMoW3sKICAgICAgICAg
ICAgICAgICAgICAiaWQiIDogIm1lbkZpbGUiLAogICAgICAgICAgICAgICAg
ICAgICJjYXB0aW9uIiA6ICJGaWxlIiwKICAgICAgICAgICAgICAgICAgICAi
dGlwcyIgOiAiRmlsZSIsCiAgICAgICAgICAgICAgICAgICAgInN1YiIgOiBb
ewogICAgICAgICAgICAgICAgICAgICAgICAiaWQiIDogIm1lbkZpbGVOZXci
LAogICAgICAgICAgICAgICAgICAgICAgICAiY2FwdGlvbiIgOiAiTmV3IiwK
ICAgICAgICAgICAgICAgICAgICAgICAgInN1YiIgOiBbewogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgImlkIiA6ICJtZW5GaWxlTmV3TWFpbE1lc3Nh
Z2UiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNhcHRpb24iIDog
Ik1haW4gTWVzc2FnZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAi
aW1hZ2UiIDogInsvfWltZy9hbGxpbm9uZS5naWYiLAogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgImltYWdlUG9zIiA6ICItODBweCB0b3AiCiAgICAg
ICAgICAgICAgICAgICAgICAgIH0sewogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgImlkIiA6ICJtZW5GaWxlTmV3QXBwb2ludG1lbnQiLAogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgImNhcHRpb24iIDogIkFwcG9pbnRtZW50
IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbWFnZSIgOiAiey99
aW1nL2FsbGlub25lLmdpZiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAiaW1hZ2VQb3MiIDogIi0yNTZweCB0b3AiCiAgICAgICAgICAgICAgICAg
ICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgfSx7CiAgICAgICAgICAg
ICAgICAgICAgICAgICJpZCIgOiAibWVuRmlsZU9wZW4iLAogICAgICAgICAg
ICAgICAgICAgICAgICAiY2FwdGlvbiIgOiAiT3BlbiIKICAgICAgICAgICAg
ICAgICAgICB9LHsKICAgICAgICAgICAgICAgICAgICAgICAgImlkIiA6ICJt
ZW5GaWxlT3BlbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJjYXB0aW9u
IiA6ICJPcGVuIgogICAgICAgICAgICAgICAgICAgIH0sewogICAgICAgICAg
ICAgICAgICAgICAgICAiaWQiIDogIm1lbkZpbGVEYXRhRmlsZSIsCiAgICAg
ICAgICAgICAgICAgICAgICAgICJjYXB0aW9uIiA6ICJEYXRhIEZpbGUgTWFu
YWdlbWVudC4uLiIKICAgICAgICAgICAgICAgICAgICB9LHsKICAgICAgICAg
ICAgICAgICAgICAgICAgImlkIiA6ICJtZW5GaWxlQ2xvc2UiLAogICAgICAg
ICAgICAgICAgICAgICAgICAiY2FwdGlvbiIgOiAiQ2xvc2UgQWxsIEl0ZW1z
IgogICAgICAgICAgICAgICAgICAgIH0sewogICAgICAgICAgICAgICAgICAg
ICAgICAiaWQiIDogIm1lbkZpbGVFeHBvcnQiLAogICAgICAgICAgICAgICAg
ICAgICAgICAiY2FwdGlvbiIgOiAiRXhwb3J0IGFuZCBpbXBvcnQiCiAgICAg
ICAgICAgICAgICAgICAgfSx7CiAgICAgICAgICAgICAgICAgICAgICAgICJp
ZCIgOiAibWVuRmlsZVdvcmtPZmZsaW5lIiwKICAgICAgICAgICAgICAgICAg
ICAgICAgImNhcHRpb24iIDogIldvcmsgT2ZmbGluZSIKICAgICAgICAgICAg
ICAgICAgICB9LHsKICAgICAgICAgICAgICAgICAgICAgICAgImlkIiA6ICJt
ZW5QcmludCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJjYXB0aW9uIiA6
ICJQcmludCAuLi4iLAogICAgICAgICAgICAgICAgICAgICAgICAiaW1hZ2Ui
IDogInsvfWltZy9hbGxpbm9uZS5naWYiLAogICAgICAgICAgICAgICAgICAg
ICAgICAiaW1hZ2VQb3MiIDogInRvcCBsZWZ0IgogICAgICAgICAgICAgICAg
ICAgIH0sewogICAgICAgICAgICAgICAgICAgICAgICAiaWQiIDogIm1lbkZp
bGVFeGl0IiwKICAgICAgICAgICAgICAgICAgICAgICAgImNhcHRpb24iIDog
IkV4aXQiCiAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAg
IH0sewogICAgICAgICAgICAgICAgICAgICJpZCIgOiAibWVuRWRpdCIsCiAg
ICAgICAgICAgICAgICAgICAgImNhcHRpb24iIDogIkVkaXQiLAogICAgICAg
ICAgICAgICAgICAgICJzdWIiIDogW3sKICAgICAgICAgICAgICAgICAgICAg
ICAgImlkIiA6ICJpZE5vdEltcGxlbnRlZCIsCiAgICAgICAgICAgICAgICAg
ICAgICAgICJjYXB0aW9uIiA6ICJOb3QgSW1wbGVtZW50ZWQiCiAgICAgICAg
ICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0sewogICAgICAgICAg
ICAgICAgICAgICJpZCIgOiAibWVuVmlldyIsCiAgICAgICAgICAgICAgICAg
ICAgImNhcHRpb24iIDogIlZpZXciLAogICAgICAgICAgICAgICAgICAgICJz
dWIiIDogW3sKICAgICAgICAgICAgICAgICAgICAgICAgImlkIiA6ICJpZE5v
dEltcGxlbnRlZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJjYXB0aW9u
IiA6ICJOb3QgSW1wbGVtZW50ZWQiCiAgICAgICAgICAgICAgICAgICAgfV0K
ICAgICAgICAgICAgICAgIH1dKQogICAgICAgICAgICAgICAgLnNldEhhbmRs
ZXIoZmFsc2UpCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIAogICAgICAg
ICAgICByZXR1cm4gY2hpbGRyZW47CiAgICAgICAgICAgIC8vIF1dQ29kZSBj
cmVhdGVkIGJ5IENyb3NzVUkgUkFEIFN0dWRpbwogICAgICAgIH0sIAogICAg
ICAgIGV2ZW50czp7CiAgICAgICAgICAgICJvblJlbmRlciI6Il9vblJlbmRl
ciIKICAgICAgICB9LCAKICAgICAgICBfb25SZW5kZXI6ZnVuY3Rpb24ocGFn
ZSwgdGhyZWFkaWQpewogICAgICAgICAgICBTUEE9cGFnZTsKICAgICAgICAg
ICAgLy9zZWxlY3QgZW1haWwgYnV0dG9uCiAgICAgICAgICAgIFNQQS5wbmxO
b3RlLmhpZGUoKTsKICAgICAgICAgICAgU1BBLnBubENvbnRhY3QuaGlkZSgp
OwogICAgICAgICAgICBTUEEuYnV0dG9udmlld3M0LnNldFZhbHVlKCdlbWFp
bCcsdHJ1ZSk7CiAgICAgICAgICAgIFNQQS50cmVlYmFyNS5maXJlSXRlbUNs
aWNrRXZlbnQoJ2InKTsKICAgICAgICB9LCAKICAgICAgICBfdHJlZWJhcjVf
b25pdGVtc2VsZWN0ZWQ6ZnVuY3Rpb24gKHByb2ZpbGUsIGl0ZW0sIHNyYykg
ewogICAgICAgICAgICB0aGlzLnBubEVtYWlsLnNldENhcHRpb24oIkVtYWls
cyBpbiAiICsgaXRlbS5jYXB0aW9uKTsKICAgICAgICAgICAgaWYoaXRlbS5p
ZD09ImIiKXsKICAgICAgICAgICAgICAgIC8vdGhpcy5hamF4MS5yZXF1ZXN0
KCk7CiAgICAgICAgICAgICAgICB4dWkuQWpheCgnRGF0YS9pbmJveC5qcycs
J2E9MSZiPTInLHRoaXMuX2FqYXgxX29ucmVxdWVzdG9rKS5zdGFydCgpOwog
ICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHh1aS5tZXNzYWdl
KCJZb3Ugc2VsZWN0ZWQgIiArIGl0ZW0uY2FwdGlvbik7CiAgICAgICAgICAg
ICAgICB0aGlzLnRyZWVncmlkMi5zZXRSb3dzKFtdKTsKICAgICAgICAgICAg
fQogICAgICAgIH0sIAogICAgICAgIF9hamF4MV9vbnJlcXVlc3RvazpmdW5j
dGlvbiAocmVzcG9uc2UsIHJzcFR5cGUsIHRocmVhZElkKSB7CiAgICAgICAg
ICAgIGlmKCFyZXNwb25zZSlyZXR1cm47CiAgICAgICAgICAgIHZhciBvYmog
PSByZXNwb25zZTsKICAgICAgICAgICAgU1BBLnRyZWVncmlkMgogICAgICAg
ICAgICAgICAgLnJlbW92ZUFsbFJvd3MoKQogICAgICAgICAgICAgICAgLnNl
dEhlYWRlcihvYmouaGVhZGVyKQogICAgICAgICAgICAgICAgLnNldFJvd3Mo
b2JqLnJvd3MpOwogICAgICAgIH0sIAogICAgICAgIF90cmVlZ3JpZDJfYWZ0
ZXJyb3dhY3RpdmU6ZnVuY3Rpb24gKHByb2ZpbGUsIHJvdykgewogICAgICAg
ICAgICBpZighcm93KXJldHVybjsKICAgICAgICAgICAgdGhpcy5ibG9jazIu
c2V0SHRtbChyb3cuY2VsbHNbMV0udmFsdWUpOwogICAgICAgIH0sIAogICAg
ICAgIF9idXR0b252aWV3czRfb25pdGVtc2VsZWN0ZWQ6ZnVuY3Rpb24gKHBy
b2ZpbGUsIGl0ZW0sIHNyYykgewogICAgICAgICAgICB2YXIgaWQ9aXRlbS5p
ZDsKICAgICAgICAgICAgaWYoaWQ9PSJlbWFpbCIpewogICAgICAgICAgICAg
ICAgdGhpcy5wbmxOb3RlLmhpZGUoKTsKICAgICAgICAgICAgICAgIHRoaXMu
cG5sQ29udGFjdC5oaWRlKCk7CiAgICAgICAgICAgICAgICB0aGlzLnBubEVt
YWlsLnNob3coKTsgICAKICAgICAgICAgICAgfWVsc2UgaWYoaWQ9PSJub3Rl
Iil7CiAgICAgICAgICAgICAgICB0aGlzLnBubEVtYWlsLmhpZGUoKTsgICAK
ICAgICAgICAgICAgICAgIHRoaXMucG5sQ29udGFjdC5oaWRlKCk7CiAgICAg
ICAgICAgICAgICB0aGlzLnBubE5vdGUuc2hvdygpOwogICAgICAgICAgICB9
ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMucG5sTm90ZS5oaWRlKCk7CiAg
ICAgICAgICAgICAgICB0aGlzLnBubEVtYWlsLmhpZGUoKTsgICAKICAgICAg
ICAgICAgICAgIHRoaXMucG5sQ29udGFjdC5zaG93KCk7CiAgICAgICAgICAg
IH0KICAgICAgICB9LCAKICAgICAgICBfYnV0dG9uMTFfb25jbGljazpmdW5j
dGlvbiAocHJvZmlsZSwgZSwgdmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5w
b3BtZW51NS5wb3AocHJvZmlsZS5nZXRSb290KCkpOwogICAgICAgICAgICB0
aGlzLnBvcG1lbnU1LiR0YXJnZXQgPSBwcm9maWxlOwogICAgICAgIH0sIAog
ICAgICAgIF9wYW5lbDE2X29uZHJvcDpmdW5jdGlvbiAocHJvZmlsZSwgZSwg
bm9kZSwga2V5LCBkYXRhLCBpdGVtKSB7CiAgICAgICAgICAgIHZhciB0YXJn
ZXQgPSBwcm9maWxlLmJveGluZygpLAogICAgICAgICAgICAgICAgc291cmNl
ID0gZGF0YS5wcm9maWxlLmJveGluZygpLAogICAgICAgICAgICAgICAgcGFy
YXMgPSBzb3VyY2UuZ2V0UGFuZWxQYXJhKGRhdGEuZG9tSWQpLAogICAgICAg
ICAgICAgICAgY2hpbGRyZW4gPSBzb3VyY2UuZ2V0UGFuZWxDaGlsZHJlbihk
YXRhLmRvbUlkKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAg
c291cmNlLnJlbW92ZVBhbmVsKGRhdGEuZG9tSWQpOwogICAgICAgICAgICB0
YXJnZXQuYWRkUGFuZWwocGFyYXMsIGNoaWxkcmVuLCBpdGVtKTsKICAgICAg
ICAgICAgCiAgICAgICAgfSwgCiAgICAgICAgX3Rvb2xiYXI3X29uY2xpY2s6
ZnVuY3Rpb24gKHByb2ZpbGUsIGlkLCBncm91cGlkLCBzcmMpIHsKICAgICAg
ICAgICAgaWYoaWQgPT0gInRvb2xOZXdNYWlsIil7CiAgICAgICAgICAgICAg
ICB0aGlzLnBvcG1lbnU1LnBvcChwcm9maWxlLmdldFJvb3QoKSk7CiAgICAg
ICAgICAgICAgICB0aGlzLnBvcG1lbnU1LiR0YXJnZXQgPSBwcm9maWxlOwog
ICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9KTs=
